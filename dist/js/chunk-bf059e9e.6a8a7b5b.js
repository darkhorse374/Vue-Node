(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bf059e9e"],{"0209":function(t,s,a){"use strict";a.r(s),a("68ef"),a("35fb")},2445:function(t,s,y){var a,i,e;i=[s,y("ade3"),y("d4ec"),y("bee2"),y("99de"),y("7e84"),y("262e"),y("9ab4"),y("60a3"),y("7d5e"),y("0209"),y("2dad"),y("ca29"),y("8960")],void 0===(e="function"==typeof(a=function(t,s,a,i,e,n,o,r,c,u,l,f,d,p){"use strict";var h=y("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=h(s),a=h(a),i=h(i),e=h(e),n=h(n),o=h(o),u=h(u),f=h(f),d=h(d);var g=function(t){function s(){var t;return(0,a.default)(this,s),(t=(0,e.default)(this,(0,n.default)(s).apply(this,arguments))).explainName="全球优惠",t.isRegion=!1,t.regionList=[],t.classifyList=[],t.isClassify=!1,t.currentPage=1,t.couponList=[],t.isLoading=!1,t}return(0,o.default)(s,t),(0,i.default)(s,[{key:"created",value:function(){this.getClassifyList(),this.getCouponsList(this.regionId,this.classifyId,this.currentPage)}},{key:"getCouponsList",value:function(t,s,a){var n=this;this.isLoading=!0,(0,p.getCouponsList)(t,s,a).then(function(t){var s=t.data,a=s.code,i=s.data,e=s.message;0===a?n.couponList=n.couponList.concat(i):n.$dialog.alert({message:e})}).catch(function(t){n.$dialog.alert({message:t})}).finally(function(){n.isLoading=!1}),this.getRegionList()}},{key:"getRegionList",value:function(){var e=this;(0,p.getRegionList)().then(function(t){var s=t.data,a=s.code,i=s.data;s.message,0===a&&(e.regionList=i)})}},{key:"showregionList",value:function(){this.isRegion=!0,this.isClassify=!1}},{key:"showClassifyList",value:function(){this.isRegion=!1,this.classifyList.length||this.getClassifyList(),this.isClassify=!0}},{key:"getClassifyList",value:function(){var e=this;(0,p.getClassifyList)().then(function(t){var s=t.data,a=s.code,i=s.data;s.message,0===a&&(e.classifyList=i)})}},{key:"showCoupons",value:function(t,s){var a=this.regionList?this.regionList[t-1].region_name:"全球",i=this.classifyList?this.classifyList[s-1].classify_name:"购物";this.currentPage=1,this.couponList=[],this.$store.commit("changeRegionId",t),this.$store.commit("changeRegionName",a),this.$store.commit("changeClassifyId",s),this.$store.commit("changeClassifyName",i),this.getCouponsList(this.regionId,this.classifyId,this.currentPage),this.isRegion=this.isClassify=!1}},{key:"loadMore",value:function(){this.getCouponsList(this.regionId,this.classifyId,this.currentPage+=1)}},{key:"regionId",get:function(){return this.$store.state.app.regionId}},{key:"regionName",get:function(){return this.$store.state.app.regionName}},{key:"classifyId",get:function(){return this.$store.state.app.classifyId}},{key:"classifyName",get:function(){return this.$store.state.app.classifyName}}]),s}(c.Vue),v=g=(0,r.__decorate)([(0,c.Component)({components:(0,s.default)({Explain:f.default,FooterNav:d.default},u.default.name,u.default)})],g);t.default=v})?a.apply(s,i):a)||(t.exports=e)},"35fb":function(t,s,a){},7155:function(t,s,a){"use strict";a.r(s);var i=a("2445"),e=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(s,t,function(){return i[t]})}(n);s.default=e.a},"7d5e":function(t,s,a){"use strict";a.r(s);var i=a("2638"),o=a.n(i),e=a("d282"),r=a("ea8e"),c=a("ba31"),n=Object(e.a)("skeleton"),u=n[0],l=n[1];function f(e,n,t,s){if(!n.loading)return t.default&&t.default();return e("div",o()([{class:l({animate:n.animate})},Object(c.b)(s)]),[function(){if(n.avatar){var t=Object(r.a)(n.avatarSize);return e("div",{class:l("avatar",n.avatarShape),style:{width:t,height:t}})}}(),e("div",{class:l("content")},[function(){if(n.title)return e("h3",{class:l("title"),style:{width:Object(r.a)(n.titleWidth)}})}(),function(){for(var t,s=[],a=n.rowWidth,i=0;i<n.row;i++)s.push(e("div",{class:l("row"),style:{width:Object(r.a)((t=i,"100%"===a&&t===n.row-1?"60%":Array.isArray(a)?a[t]:a))}}));return s}()])])}f.props={title:Boolean,avatar:Boolean,row:{type:Number,default:0},loading:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},avatarSize:{type:String,default:"32px"},avatarShape:{type:String,default:"round"},titleWidth:{type:[Number,String],default:"40%"},rowWidth:{type:[Number,String,Array],default:"100%"}},s.default=u(f)},"7f3a":function(t,s,a){},a8fa:function(t,s,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"global-coupon-list-wraper"},[i("explain",{attrs:{explainName:a.explainName}}),i("div",{staticClass:"mb10"},[i("div",{staticClass:"condition-wraper"},[i("a",{staticClass:"left-wraper choose-condition",attrs:{href:"javascript:;"},on:{click:a.showregionList}},[i("span",[i("font",[a._v(a._s(a.regionName))])],1)]),i("a",{staticClass:"right-wraper choose-condition",attrs:{href:"javascript:;"},on:{click:a.showClassifyList}},[i("span",[i("font",[a._v(a._s(a.classifyName))])],1)])]),i("div",{staticClass:"list",class:{"dis-block":a.isRegion,"dis-none":!a.isRegion},attrs:{id:"contry-list"}},a._l(a.regionList,function(s,t){return i("a",{key:t,class:{"this-type":a.regionId==s.id},attrs:{href:"javascript:;"},on:{click:function(t){return a.showCoupons(s.id,a.classifyId)}}},[i("span",[a._v(a._s(s.region_name))])])}),0),i("div",{staticClass:"list",class:{"dis-block":a.isClassify,"dis-none":!a.isClassify},attrs:{id:"classify"}},a._l(a.classifyList,function(s,t){return i("a",{key:t,class:{"this-type":a.classifyId==s.id},attrs:{href:"javascript:;"},on:{click:function(t){return a.showCoupons(a.regionId,s.id)}}},[i("span",[a._v(a._s(s.classify_name))])])}),0)]),a.isLoading?i("div",{staticStyle:{"background-color":"white"}},[i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}})],1):i("div",{staticClass:"coupon-list-wraper"},[a._l(a.couponList,function(t,s){return i("router-link",{key:s,class:{"use-discount-bg":0==t.coupon_status,"used-bg":1==t.coupon_status,"past-bg":2==t.coupon_status},attrs:{to:{path:"/get-coupon",query:{id:t.id,type:1}}}},[i("div",{staticClass:"shop-ico"},[i("img",{attrs:{src:t.coupon_ico_path,width:"100%",height:"100%",alt:t.coupon_name}})]),i("div",{staticClass:"shop-intro"},[i("div",{staticClass:"shop-title"},[a._v(a._s(t.coupon_name))]),i("div",{staticClass:"shop-price"},[i("span",{staticClass:"condition"},[a._v(a._s(t.coupon_explain))])])]),i("div",{staticClass:"shop-active shop-active-canuse"},[i("p",[a._v("已抢")]),i("p",[a._v(a._s(t.coupon_recived_num))]),i("span",{class:{"use-discount":0==t.coupon_status,used:1==t.coupon_status,past:2==t.coupon_status}})])])}),a.couponList.length&&a.couponList.length%10==0?i("a",{staticClass:"load-more",attrs:{href:"javascript:;"},on:{click:a.loadMore}},[a._v("加载更多")]):a._e()],2),i("footer-nav")],1)}var e=[];a.d(s,"a",function(){return i}),a.d(s,"b",function(){return e})},ad65:function(t,s,a){"use strict";var i=a("7f3a");a.n(i).a},ade3:function(t,s,a){"use strict";function i(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}a.r(s),a.d(s,"default",function(){return i})},eea6:function(t,s,a){"use strict";a.r(s);var i=a("a8fa"),e=a("7155");for(var n in e)"default"!==n&&function(t){a.d(s,t,function(){return e[t]})}(n);a("ad65");var o=a("2877"),r=Object(o.a)(e.default,i.a,i.b,!1,null,"ca1c53c4",null);s.default=r.exports}}]);