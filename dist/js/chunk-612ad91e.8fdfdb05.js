(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-612ad91e"],{"0209":function(t,s,i){"use strict";i.r(s);i("68ef"),i("35fb")},2445:function(t,s,i){var a,e,n;(function(o,r){e=[s,i("ade3"),i("d4ec"),i("bee2"),i("99de"),i("7e84"),i("262e"),i("9ab4"),i("60a3"),i("7d5e"),i("0209"),i("2dad"),i("ca29"),i("8960")],a=r,n="function"===typeof a?a.apply(s,e):a,void 0===n||(t.exports=n)})(0,function(t,s,a,e,n,o,r,c,u,l,f,d,p,h){"use strict";var v=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=v(s),a=v(a),e=v(e),n=v(n),o=v(o),r=v(r),l=v(l),d=v(d),p=v(p);var g=function(t){function s(){var t;return(0,a.default)(this,s),t=(0,n.default)(this,(0,o.default)(s).apply(this,arguments)),t.explainName="全球优惠",t.isRegion=!1,t.regionList=[],t.classifyList=[],t.isClassify=!1,t.currentPage=1,t.couponList=[],t.isLoading=!1,t}return(0,r.default)(s,t),(0,e.default)(s,[{key:"created",value:function(){this.getClassifyList(),this.getCouponsList(this.regionId,this.classifyId,this.currentPage)}},{key:"getCouponsList",value:function(t,s,i){var a=this;this.isLoading=!0,(0,h.getCouponsList)(t,s,i).then(function(t){var s=t.data,i=s.code,e=s.data,n=s.message;0===i?a.couponList=a.couponList.concat(e):a.$dialog.alert({message:n})}).catch(function(t){a.$dialog.alert({message:t})}).finally(function(){a.isLoading=!1}),this.getRegionList()}},{key:"getRegionList",value:function(){var t=this;(0,h.getRegionList)().then(function(s){var i=s.data,a=i.code,e=i.data;i.message;0===a&&(t.regionList=e)})}},{key:"showregionList",value:function(){this.isRegion=!0,this.isClassify=!1}},{key:"showClassifyList",value:function(){this.isRegion=!1,this.classifyList.length||this.getClassifyList(),this.isClassify=!0}},{key:"getClassifyList",value:function(){var t=this;(0,h.getClassifyList)().then(function(s){var i=s.data,a=i.code,e=i.data;i.message;0===a&&(t.classifyList=e)})}},{key:"showCoupons",value:function(t,s){console.log(this.classifyList);var i=this.regionList?this.regionList[t-1].region_name:"全球",a=this.classifyList?this.classifyList[s-1].classify_name:"购物";this.currentPage=1,this.couponList=[],this.$store.commit("changeRegionId",t),this.$store.commit("changeRegionName",i),this.$store.commit("changeClassifyId",s),this.$store.commit("changeClassifyName",a),this.getCouponsList(this.regionId,this.classifyId,this.currentPage),this.isRegion=this.isClassify=!1}},{key:"loadMore",value:function(){this.getCouponsList(this.regionId,this.classifyId,this.currentPage+=1)}},{key:"regionId",get:function(){return this.$store.state.app.regionId}},{key:"regionName",get:function(){return this.$store.state.app.regionName}},{key:"classifyId",get:function(){return this.$store.state.app.classifyId}},{key:"classifyName",get:function(){return this.$store.state.app.classifyName}}]),s}(u.Vue);g=(0,c.__decorate)([(0,u.Component)({components:(0,s.default)({Explain:d.default,FooterNav:p.default},l.default.name,l.default)})],g);var y=g;t.default=y})},"35fb":function(t,s,i){},7155:function(t,s,i){"use strict";i.r(s);var a=i("2445"),e=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(s,t,function(){return a[t]})}(n);s["default"]=e.a},"7d5e":function(t,s,i){"use strict";i.r(s);var a=i("2638"),e=i.n(a),n=i("d282"),o=i("ea8e"),r=i("ba31"),c=Object(n["a"])("skeleton"),u=c[0],l=c[1],f="100%",d="60%";function p(t,s,i,a){if(!s.loading)return i.default&&i.default();function n(){if(s.title)return t("h3",{class:l("title"),style:{width:Object(o["a"])(s.titleWidth)}})}function c(){var i=[],a=s.rowWidth;function e(t){return a===f&&t===s.row-1?d:Array.isArray(a)?a[t]:a}for(var n=0;n<s.row;n++)i.push(t("div",{class:l("row"),style:{width:Object(o["a"])(e(n))}}));return i}function u(){if(s.avatar){var i=Object(o["a"])(s.avatarSize);return t("div",{class:l("avatar",s.avatarShape),style:{width:i,height:i}})}}return t("div",e()([{class:l({animate:s.animate})},Object(r["b"])(a)]),[u(),t("div",{class:l("content")},[n(),c()])])}p.props={title:Boolean,avatar:Boolean,row:{type:Number,default:0},loading:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},avatarSize:{type:String,default:"32px"},avatarShape:{type:String,default:"round"},titleWidth:{type:[Number,String],default:"40%"},rowWidth:{type:[Number,String,Array],default:f}},s["default"]=u(p)},ade3:function(t,s,i){"use strict";function a(t,s,i){return s in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,t}i.r(s),i.d(s,"default",function(){return a})},b92c:function(t,s,i){},e9bc:function(t,s,i){"use strict";var a=i("b92c"),e=i.n(a);e.a},eea6:function(t,s,i){"use strict";i.r(s);var a=i("f7b9"),e=i("7155");for(var n in e)"default"!==n&&function(t){i.d(s,t,function(){return e[t]})}(n);i("e9bc");var o=i("2877"),r=Object(o["a"])(e["default"],a["a"],a["b"],!1,null,"c8316f68",null);s["default"]=r.exports},f7b9:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"global-coupon-list-wraper"},[i("explain",{attrs:{explainName:t.explainName}}),i("div",{staticClass:"mb10"},[i("div",{staticClass:"condition-wraper"},[i("a",{staticClass:"left-wraper choose-condition",attrs:{href:"javascript:;"},on:{click:t.showregionList}},[i("span",[i("font",[t._v(t._s(t.regionName))])],1)]),i("a",{staticClass:"right-wraper choose-condition",attrs:{href:"javascript:;"},on:{click:t.showClassifyList}},[i("span",[i("font",[t._v(t._s(t.classifyName))])],1)])]),i("div",{staticClass:"list",class:{"dis-block":t.isRegion,"dis-none":!t.isRegion},attrs:{id:"contry-list"}},t._l(t.regionList,function(s,a){return i("a",{key:a,class:{"this-type":t.regionId==s.id},attrs:{href:"javascript:;"},on:{click:function(i){return t.showCoupons(s.id,t.classifyId)}}},[i("span",[t._v(t._s(s.region_name))])])}),0),i("div",{staticClass:"list",class:{"dis-block":t.isClassify,"dis-none":!t.isClassify},attrs:{id:"classify"}},t._l(t.classifyList,function(s,a){return i("a",{key:a,class:{"this-type":t.classifyId==s.id},attrs:{href:"javascript:;"},on:{click:function(i){return t.showCoupons(t.regionId,s.id)}}},[i("span",[t._v(t._s(s.classify_name))])])}),0)]),t.isLoading?i("div",{staticStyle:{"background-color":"white"}},[i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}}),i("van-skeleton",{attrs:{title:"",avatar:"",row:3}})],1):i("div",{staticClass:"coupon-list-wraper"},[t._l(t.couponList,function(s,a){return i("router-link",{key:a,class:{"use-discount-bg":0==s.coupon_status,"used-bg":1==s.coupon_status,"past-bg":2==s.coupon_status},attrs:{to:{path:"/get-coupon",query:{id:s.id,type:1}}}},[i("div",{staticClass:"shop-ico"},[i("img",{attrs:{src:s.coupon_ico_path,width:"100%",height:"100%",alt:s.coupon_name}})]),i("div",{staticClass:"shop-intro"},[i("div",{staticClass:"shop-title"},[t._v(t._s(s.coupon_name))]),i("div",{staticClass:"shop-price"},[i("span",{staticClass:"condition"},[t._v(t._s(s.coupon_explain))])])]),i("div",{staticClass:"shop-active shop-active-canuse"},[i("p",[t._v("已抢")]),i("p",[t._v(t._s(s.coupon_recived_num))]),i("span",{class:{"use-discount":0==s.coupon_status,used:1==s.coupon_status,past:2==s.coupon_status}})])])}),t.couponList.length&&t.couponList.length%10===0?i("a",{staticClass:"load-more",attrs:{href:"javascript:;"},on:{click:t.loadMore}},[t._v("加载更多")]):t._e()],2),i("footer-nav")],1)},e=[];i.d(s,"a",function(){return a}),i.d(s,"b",function(){return e})}}]);
//# sourceMappingURL=chunk-612ad91e.8fdfdb05.js.map